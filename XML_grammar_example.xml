#grammar generating the rules of formal grammar of lojban as presented at
#https://lojban.org/publications/cll/cll_v1.1_xhtml-chapter-chunks/chapter-grammars.html#section-EBNF



<terminals>
	<s> SEPARATOR </s>
	<s> S1 </s> #lowest priority	# or
	<s> S2 </s>			# and
	<s> S3 </s>			# concat
	<s> S4 </s> #highest priority	# ...
	<s> BRACKET_L </s>
	<s> BRACKET_R </s>
	<s> OR </s>
	<s> AND </s>
	<s> OPTION_L </s>		#(square brackets)
	<s> OPTION_R </s>
	<s> OPTIONAL_REPETITION </s>	#(...)
	<s> SLASH </s>
	
</terminals>

<nonterminals>
	 <s> rule </s>
	 <s> s1 </s>			#or
	 <s> s2 </s>			#and
	 <s> s3 </s>			#concat
	 <s> s4 </s>			#...
</nonterminals>

<head> <s> rule </s> </head>

<rules>
	#---------------------------the first rule
	<rule>
		<r_head> <s> rule </s> </r_head>
		<r_body> 
			 <s> S1 </s> 		#technically there should be 4 variants with each terminal as the head, but let's assume the tagger will tag it in a specific way
			 <s> SEPARATOR </s>
			 <s> s1 </s>
		</r_body>
	</rule>
	
	
	#---------------------- operation rules
	
	<rule>
		<r_head> <s> s1 </s> </r_head>
		<r_body> 
			 <s> s1 </s>
			 <s> OR </s>
			 <s> s1 </s>
		</r_body>
	</rule>
	
	<rule>
		<r_head> <s> s2 </s> </r_head>
		<r_body> 
			 <s> s2 </s>
			 <s> AND </s>
			 <s> s2 </s>
		</r_body>
	</rule>
	
	<rule>
		<r_head> <s> s3 </s> </r_head>
		<r_body> 
			 <s> s3 </s>
			 <s> s3 </s>
		</r_body>
	</rule>
	
	<rule>
		<r_head> <s> s4 </s> </r_head> #leaving the rule in such a form makes causes the grammar to derribve constructs "s4 ... ... ..." which are meaningless?
		<r_body> 
			 <s> s4 </s>
			 <s> OPTIONAL_REPETITION </s>
		</r_body>
	</rule>
	
	
	#---------------------promotion rules
	<rule>
		<r_head> <s> s3 </s> </r_head>
		<r_body> 
			 <s> s4 </s>
		</r_body>
	</rule>
	
	<rule>
		<r_head> <s> s2 </s> </r_head>
		<r_body> 
			 <s> s3 </s>
		</r_body>
	</rule>
	
	<rule>
		<r_head> <s> s1 </s> </r_head>
		<r_body> 
			 <s> s2 </s>
		</r_body>
	</rule>
	
	
	#---------------------------- round brackets 
	<rule>
		<r_head> <s> s4 </s> </r_head>
		<r_body> 
			 <s> BRACKET_L </s>
			 <s> s1  </s>
			 <s> BRACKET_R </s>
		</r_body>
	</rule>
	
	
	#--------------------------------square brackets
	<rule>
		<r_head> <s> s4 </s> </r_head>
		<r_body> 
			 <s> OPTION_L </s>
			 <s> s1  </s>
			 <s> OPTION_R </s>
		</r_body>
	</rule>
	
	
	
	#----------------------------------slash brackets -- they don't have a right and left version which can lead to some amniguity and extra words generated by grammar not present in source language
	
	<rule>
		<r_head> <s> s4 </s> </r_head>
		<r_body> 
			 <s> SLASH </s>
			 <s> s1  </s>
			 <s> SLASH </s>
		</r_body>
	</rule>
	
	
	#----------------------------------terminal translation
	
	<rule>
		<r_head> <s> s1 </s> </r_head>
		<r_body> 
			 <s> S1 </s>
		</r_body>
	</rule>
	
	<rule>
		<r_head> <s> s2 </s> </r_head>
		<r_body> 
			 <s> S2 </s>
		</r_body>
	</rule>
	
	<rule>
		<r_head> <s> s3 </s> </r_head>
		<r_body> 
			 <s> S3 </s>
		</r_body>
	</rule>
	
	<rule>
		<r_head> <s> s4 </s> </r_head>
		<r_body> 
			 <s> S4 </s>
		</r_body>
	</rule>
	
	
	
	

</rules>
